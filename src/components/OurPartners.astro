---
import { getAssetURL } from "@utils/getImage";

export interface Props {
  item: {
    title?: string;
    description?: string;
    images?: Array<{
      image_id: string;
    }>;
  };
}

const { item } = Astro.props;
const { title, description, images } = item;
---

<section class="py-20 bg-gradient-to-r from-gray-100 to-purple-100">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2
        class="text-3xl lg:text-4xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent mb-4"
      >
        {title}
      </h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        {description}
      </p>
    </div>

    <div class="relative overflow-hidden">
      <div class="flex animate-scroll space-x-12 items-center">
        {/* First set of logos */}
        <div class="flex space-x-12 items-center min-w-max">
          {
            images?.map((image) => (
              <img
                src={getAssetURL(image.image_id)}
                alt="Partner logo"
                class="h-12 w-auto opacity-60 hover:opacity-100 transition-opacity grayscale hover:grayscale-0"
              />
            ))
          }
        </div>
        {/* Duplicate set for seamless loop */}
        <div class="flex space-x-12 items-center min-w-max">
          {
            images?.map((image) => (
              <img
                src={getAssetURL(image.image_id)}
                alt="Partner logo"
                class="h-12 w-auto opacity-60 hover:opacity-100 transition-opacity grayscale hover:grayscale-0"
              />
            ))
          }
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-100%);
    }
  }

  .animate-scroll {
    animation: scroll 30s linear infinite;
  }

  .animate-scroll:hover {
    animation-play-state: paused;
  }
</style>
